if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("PolarisclipsSelectors",["PolarisStyleConstants","PolariscreateSelectorWithArg","reselect"],(function(a,b,c,d,e,f,g){a=c("PolariscreateSelectorWithArg")(function(a){return a==null?void 0:(a=a.clips)==null?void 0:a.byUserId},function(a){return function(b){if(a==null)return{clips:[],pagingInfo:null};b=a.get(b);return{clips:(b==null?void 0:b.clips)||[],pagingInfo:b==null?void 0:b.pagingInfo}}});b=function(a){a=a==null?void 0:(a=a.clips)==null?void 0:a.clipsTabInfo;a=a.impressionLogging;return a==null?{impressions:[],isLogging:!1}:a};e=function(a){a=a==null?void 0:(a=a.clips)==null?void 0:a.clipsTabInfo;return a==null?{clips:[],pagingInfo:null}:{clips:(a==null?void 0:a.clips)||[],pagingInfo:a==null?void 0:a.pagingInfo}};f=function(a,b){a=a==null?void 0:(a=a.clips)==null?void 0:a.byAudioId;if(a==null)return{clips:[]};a=a.get(b);return a==null?{clips:[]}:{clips:a.clips||[],formattedMediaCount:a.formattedMediaCount,isMusicPageRestricted:a.isMusicPageRestricted,metadata:a.metadata,musicPageRestrictedContext:a.musicPageRestrictedContext,pagingInfo:a.pagingInfo,shouldDisableFetching:a.shouldDisableFetching}};var h=function(a){return a.clips.isAudioPlayerPlaying===!0};d=d("reselect").createSelector(function(a){return a.displayProperties.viewportWidth},function(a){return a<=c("PolarisStyleConstants")["small-screen-max"].value});g.getClipsInfoFromUserId=a;g.getClipsTabImpressions=b;g.getClipsInfoFromDiscovery=e;g.getClipsInfoFromAudioId=f;g.getIsAudioPlayerPlaying=h;g.getIsNarrowScreen=d}),98);
__d("PolarisCommentLikeListsActions",["PolarisCommentLikeListsActionTypes","PolarisCommentLikeListsState","PolarisPaginationUtils","Polarisnullthrows"],(function(a,b,c,d,e,f,g){var h="5f0b1f6281e72053cbc07909c8d154ae",i=24,j=1;function a(){return d("PolarisPaginationUtils").generatePaginationActionCreators({pageSize:i,pagesToPreload:j,getState:function(a,b){return a.commentLikeLists.get(b,d("PolarisCommentLikeListsState").EMPTY_LISTS).pagination},queryId:h,queryParams:function(a){return{comment_id:a}},onUpdate:function(a,b,e){b=b&&c("Polarisnullthrows")(b.comment).edge_liked_by;return{type:d("PolarisCommentLikeListsActionTypes").COMMENT_LIKE_LISTS_REQUEST_UPDATED,fetch:a,commentId:e,count:b==null?void 0:b.count,users:((b==null?void 0:b.edges)||[]).map(function(a){return a.node}),pageInfo:b==null?void 0:b.page_info}},onError:function(a,b,c){return{type:d("PolarisCommentLikeListsActionTypes").COMMENT_LIKE_LISTS__REQUEST_FAILED,fetch:b,commentId:c}}})}b=a();e=b;f=b.first;a=b.next;g._actionCreators=e;g.requestCommentLikes=f;g.requestNextCommentLikes=a}),98);
__d("PolarisfollowListSelectors",["PolarisPaginationUtils"],(function(a,b,c,d,e,f,g){function h(a,b,c){return(a=a.followLists.get(b))==null?void 0:a[c]}function i(a,b,c){return(a=h(a,b,c))==null?void 0:a.pagination}function a(a,b,c){return d("PolarisPaginationUtils").getEndCursor((a=i(a,b,c))!=null?a:void 0)}g.getFollowList=h;g.getFollowListPagination=i;g.getFollowListPaginationCursor=a}),98);
__d("PolarisFollowListActions",["PolarisFollowListActionTypes","PolarisInstapi","PolarisPaginationUtils","PolarisRelationshipActions","PolarisfollowListSelectors","PolarismonitorErrors","regeneratorRuntime"],(function(a,b,c,d,e,f,g){var h="follow_list_page";function a(a,b,c,e){c===void 0;e===void 0&&(e=!1);return function(c,f){var g=b==="inbound"?e?"inboundMutual":"inbound":"outbound";f=d("PolarisfollowListSelectors").getFollowListPagination(f(),a,g);if(f!=null)return;b==="inbound"?e?c(k(a)):c(i(a)):c(l(a))}}function c(a,b,c){c===void 0&&(c=!1);if(b==="inbound")if(c)return k(a);else return i(a);else return l(a)}function i(a,c){c===void 0&&(c=d("PolarisFollowListActionTypes").PAGE_SIZE);return function(e,f){var g,i,j,k,l,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:e({type:d("PolarisFollowListActionTypes").FOLLOW_LIST_FOLLOWERS_REQUEST,userId:a});g=d("PolarisfollowListSelectors").getFollowListPaginationCursor(f(),a,"inbound");n.prev=2;n.next=5;return b("regeneratorRuntime").awrap(d("PolarisInstapi").apiGet("/api/v1/friendships/{user_id}/followers/",{path:{user_id:a},query:{count:c,max_id:(i=g)!=null?i:void 0,search_surface:h}}));case 5:k=n.sent;l=k.data;m=((j=l.users)!=null?j:[]).map(function(a){return String(a.pk)});n.next=10;return b("regeneratorRuntime").awrap(e(d("PolarisRelationshipActions").getRelationshipInfoForUserIds(m)));case 10:e({response:l,type:d("PolarisFollowListActionTypes").FOLLOW_LIST_FOLLOWERS_SUCCESS,userId:a});n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](2),d("PolarismonitorErrors").logError(n.t0);case 16:case"end":return n.stop()}},null,this,[[2,13]])}}function j(a,c){c===void 0&&(c=d("PolarisFollowListActionTypes").PAGE_SIZE);return function(e,f){var g,h,i,j,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:e({type:d("PolarisFollowListActionTypes").FOLLOW_LIST_MUTUAL_FOLLOWERS_REQUEST,userId:a});g=d("PolarisfollowListSelectors").getFollowListPaginationCursor(f(),a,"inboundMutual");m.prev=2;m.next=5;return b("regeneratorRuntime").awrap(d("PolarisInstapi").apiGet("/api/v1/friendships/{user_id}/mutual_followers/",{path:{user_id:a},query:{max_id:(h=g)!=null?h:void 0,page_size:c}}));case 5:j=m.sent;k=j.data;l=((i=k.users)!=null?i:[]).map(function(a){return String(a.pk)});m.next=10;return b("regeneratorRuntime").awrap(e(d("PolarisRelationshipActions").getRelationshipInfoForUserIds(l)));case 10:e({response:k,type:d("PolarisFollowListActionTypes").FOLLOW_LIST_MUTUAL_FOLLOWERS_SUCCESS,userId:a});m.next=16;break;case 13:m.prev=13,m.t0=m["catch"](2),d("PolarismonitorErrors").logError(m.t0);case 16:case"end":return m.stop()}},null,this,[[2,13]])}}function k(a,b){b===void 0&&(b=d("PolarisFollowListActionTypes").PAGE_SIZE);return function(c,e){e=d("PolarisfollowListSelectors").getFollowListPagination(e(),a,"inboundMutual");if(e==null||d("PolarisPaginationUtils").canFetchMorePagination(e)===!0)return c(j(a,b));else return c(i(a,b))}}function l(a,c){c===void 0&&(c=d("PolarisFollowListActionTypes").PAGE_SIZE);return function(e,f){var g,h,i,j,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:e({type:d("PolarisFollowListActionTypes").FOLLOW_LIST_FOLLOWING_REQUEST,userId:a});g=d("PolarisfollowListSelectors").getFollowListPaginationCursor(f(),a,"outbound");m.prev=2;m.next=5;return b("regeneratorRuntime").awrap(d("PolarisInstapi").apiGet("/api/v1/friendships/{user_id}/following/",{path:{user_id:a},query:{count:c,max_id:(h=g)!=null?h:void 0}}));case 5:j=m.sent;k=j.data;l=((i=k.users)!=null?i:[]).map(function(a){return String(a.pk)});m.next=10;return b("regeneratorRuntime").awrap(e(d("PolarisRelationshipActions").getRelationshipInfoForUserIds(l)));case 10:e({response:k,type:d("PolarisFollowListActionTypes").FOLLOW_LIST_FOLLOWING_SUCCESS,userId:a});m.next=16;break;case 13:m.prev=13,m.t0=m["catch"](2),d("PolarismonitorErrors").logError(m.t0);case 16:case"end":return m.stop()}},null,this,[[2,13]])}}g.requestFollowList=a;g.requestNextFollowListPage=c;g.requestFollowers=i;g.requestMutualFollowers=j;g.requestMutualFollowersFirst=k;g.requestFollowing=l}),98);
__d("PolarisHashtagFollowListActions",["PolarisAPI","PolarisHashtagFollowListActionTypes","Polarisnullthrows","Polarisunexpected"],(function(a,b,c,d,e,f,g){var h="e6306cc3dbe69d6a82ef8b5f8654c50b";function a(a){return function(b,e){b({type:d("PolarisHashtagFollowListActionTypes").HASHTAG_FOLLOW_LIST_REQUESTED,userId:a});return d("PolarisAPI").query(h,{id:a}).then(function(e){e=e.data;e=c("Polarisnullthrows")(e.user);e=c("Polarisnullthrows")(e.edge_following_hashtag).edges.map(function(a){return a.node});b({type:d("PolarisHashtagFollowListActionTypes").HASHTAG_FOLLOW_LIST_SUCCEED,userId:a,tagList:e})},function(e){b({type:d("PolarisHashtagFollowListActionTypes").HASHTAG_FOLLOW_LIST_FAILED,userId:a}),c("Polarisunexpected")(e)})}}g.getHashtagFollowList=a}),98);
__d("PolarisPhoneConfirmActions",["PolarisAPI","PolarisNavigationUtils","PolarisPhoneConfirmActionTypes","PolarisSettingsActions","PolarisrunPromise","Polarisunexpected","Promise"],(function(a,b,c,d,e,f,g){function h(a,c){c({type:d("PolarisPhoneConfirmActionTypes").PHONE_CONFIRM_SMS_CODE_REQUESTED});return new(b("Promise"))(function(b,e){d("PolarisAPI").phoneConfirmSendSmsCode(a).then(function(a){return b(a)})["catch"](function(a){c({type:d("PolarisPhoneConfirmActionTypes").PHONE_CONFIRM_SMS_CODE_SEND_FAILED,toast:{text:d("PolarisSettingsActions").TWO_FACTOR_GENERIC_ERROR}})})})}function i(a){return function(b){b({type:d("PolarisPhoneConfirmActionTypes").UPDATE_PHONE_NUMBER,phoneNumber:a})}}function j(a){return function(b){b({type:d("PolarisPhoneConfirmActionTypes").UPDATE_RETURN_URL,returnUrl:a})}}function a(a){return function(b){return c("PolarisrunPromise")(h(a,b).then(function(a){if(a.phone_number_valid&&!a.rate_limited)b({type:d("PolarisPhoneConfirmActionTypes").PHONE_CONFIRM_SMS_CODE_SENT});else if(a.rate_limited)b({type:d("PolarisPhoneConfirmActionTypes").PHONE_CONFIRM_SMS_CODE_SEND_FAILED,toast:{text:d("PolarisSettingsActions").CODE_SEND_RATE_LIMIT_GENERIC_ERROR}});else{b({type:d("PolarisPhoneConfirmActionTypes").PHONE_CONFIRM_SMS_CODE_SEND_FAILED,toast:{text:((a=a.errors)==null?void 0:a.phone_number)||d("PolarisSettingsActions").TWO_FACTOR_GENERIC_ERROR}})}}))}}function e(a,e){return function(f){f(i(a));e!==null&&e!==void 0&&f(j(e));if(a==null||a===""){f({type:d("PolarisPhoneConfirmActionTypes").PHONE_CONFIRM_SMS_CODE_SEND_FAILED,toast:{text:d("PolarisSettingsActions").TWO_FACTOR_GENERIC_ERROR}});c("Polarisunexpected")("tried to confirm phone number without phone number");return b("Promise").resolve()}return c("PolarisrunPromise")(h(a,f).then(function(a){a.phone_number_valid?f({type:d("PolarisPhoneConfirmActionTypes").PHONE_CONFIRM_SMS_CODE_SENT}):f({type:d("PolarisPhoneConfirmActionTypes").PHONE_CONFIRM_SMS_CODE_SEND_FAILED,toast:{text:d("PolarisSettingsActions").TWO_FACTOR_GENERIC_ERROR}})}))}}function f(){return function(a){a({type:d("PolarisPhoneConfirmActionTypes").SHOW_PHONE_FORM})}}function k(a,b,e){return function(f,g){f({type:d("PolarisPhoneConfirmActionTypes").PHONE_CONFIRM_SMS_CODE_SUBMITTED});return c("PolarisrunPromise")(d("PolarisAPI").phoneConfirmVerifySmsCode(a,b).then(function(a){if(a.verified)f({type:d("PolarisPhoneConfirmActionTypes").PHONE_CONFIRM_SMS_CODE_VERIFY_SUCCESS}),d("PolarisNavigationUtils").openURL(e);else{f({type:d("PolarisPhoneConfirmActionTypes").PHONE_CONFIRM_SMS_CODE_VERIFY_FAILED,toast:{text:((a=a.errors)==null?void 0:a.verification_code)||d("PolarisSettingsActions").TWO_FACTOR_GENERIC_ERROR}})}})["catch"](function(a){f({type:d("PolarisPhoneConfirmActionTypes").PHONE_CONFIRM_SMS_CODE_VERIFY_FAILED,toast:{text:d("PolarisSettingsActions").TWO_FACTOR_GENERIC_ERROR}})}))}}function l(a){return function(b){b({type:d("PolarisPhoneConfirmActionTypes").INITIALIZE_FORM,showPhoneForm:!!a})}}g.updatePhoneNumber=i;g.updateReturnUrl=j;g.requestConfirmationCode=a;g.initiateConfirmationPage=e;g.showPhoneForm=f;g.submitConfirmationCode=k;g.initializeForm=l}),98);
__d("PolarisFXModal",["cx","IGCoreModalLocation","Keys","PolarisBodyScrollLock","PolarisDOMListener","PolarisGenericStrings","PolarisIGCoreModalBackdrop","PolarisIGCoreSVGIconButton","PolarisIGCoreXPanoFilledIcon","joinClasses","react"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j=d("react").useRef;function a(a){var b=a.aboveContent,e=a.backgroundColor;e=e===void 0?"DEPRECATED_white":e;var f=a.children,g=a.closeButtonPosition,h=g===void 0?"hidden":g;g=a.dangerouslySetClassName;var k=a.disablePopInAnimation,l=a.enableModalPageView,m=l===void 0?!1:l;l=a.fixedHeight;var n=a.fixedWidth;n=n===void 0?!0:n;var o=a.isVisible;o=o===void 0?!0:o;var p=a.onClose;a=a.size;a=a===void 0?"default":a;var q=j(!1),r=j(null);function s(){if(!q.current){q.current=!0;var a=r.current;a!=null&&a.returnToEntry();p&&p()}}var t=function(a){a.which===c("Keys").ESC&&s()},u=c("joinClasses")("_aapi"+(e==="DEPRECATED_transparent"?" _aapj":"")+(n===!0&&a==="default"?" _aapk":"")+(n===!0&&a==="extraLarge"?" _aapl":"")+(n===!0&&a==="large"?" _aapm":"")+(l===!0?" _aapn":"")+(k===!0?" _aapo":""),g==null?void 0:g.__className);return i.jsxs(c("PolarisIGCoreModalBackdrop"),{isVisible:o,justifyContent:b!=null?"center":"space-around",onClose:s,children:[i.jsx(c("PolarisDOMListener"),{event:"keyup",handler:t,target:window}),h==="background"&&i.jsx("div",{className:"_aapp",children:i.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:s,children:i.jsx(c("PolarisIGCoreXPanoFilledIcon"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"web-always-white",size:18})})}),i.jsx(d("PolarisBodyScrollLock").BodyScrollLock,{isEnabled:o,children:function(a){return i.jsxs(i.Fragment,{children:[b,i.jsxs("div",{className:u,ref:a,role:"dialog",children:[h==="body"&&i.jsx("div",{className:"_aapq",children:i.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:s,children:i.jsx(c("PolarisIGCoreXPanoFilledIcon"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"web-always-white",size:18})})}),i.jsx("div",{className:"_aapr"+(m?" _aaps":""),children:i.Children.map(f,function(a){return(a==null?void 0:a.type)===c("IGCoreModalLocation")?i.cloneElement(a,{ref:r}):a})})]})]})}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFXDialogBase",["cx","PolarisFXModal","PolarisIGCoreText","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");function a(a){var b=a.body,d=a.children,e=a.disablePopInAnimation,f=a.isVisible,g=a.media,h=a.onModalClose,j=a.size;j=j===void 0?"default":j;a=a.title;var k=!!g,l=a!=null||b!=null;return i.jsx(c("PolarisFXModal"),{disablePopInAnimation:e,isVisible:f,onClose:h,size:j,children:i.jsxs("div",{className:"_aapt",children:[g!=null&&i.jsx("div",{className:"_aapu",children:g}),l&&i.jsxs("div",{className:"_aapv",children:[a!=null&&(k?i.jsx(c("PolarisIGCoreText").Headline2,{children:a}):i.jsx(c("PolarisIGCoreText").Title,{children:a})),b!=null&&i.jsx(c("PolarisIGCoreText").Body,{color:"ig-secondary-text",children:b})]}),d!=null&&i.jsx("div",{className:"_aapw",children:d})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFXDialog",["IGCoreDialog","PolarisFXDialogBase","Polarisinvariant","react"],(function(a,b,c,d,e,f,g){var h=d("react");function a(a){var b=a.body,e=a.disablePopInAnimation,f=a.isVisible,g=a.negativeButton,i=a.primaryButton,j=a.secondaryButton;a=a.title;g!=null||i!=null||j!=null||c("Polarisinvariant")(0,34283);return h.jsxs(c("PolarisFXDialogBase"),{body:b,disablePopInAnimation:e,isVisible:f,title:a,children:[i&&h.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:(b=i.color)!=null?b:"ig-primary-button",onClick:i.onClick,children:i.label}),j&&h.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:(e=j.color)!=null?e:"ig-secondary-button",onClick:j.onClick,children:j.label}),g&&h.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:(f=g.color)!=null?f:"ig-error-or-destructive",onClick:g.onClick,children:g.label})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPhoneConfirmTypes",["keyMirror"],(function(a,b,c,d,e,f,g){a=c("keyMirror")({add:null,confirm:null});g.USAGE=a}),98);
__d("PolarisFXNUXAddAccountButtonUI",["fbt","PolarisAssetManagerGlyphMapping","PolarisGenericOnboardingUnit","PolarisIGCoreActivatorCard","PolarisIGCoreBorderedIcon","PolarisIGCoreConstants","PolarisNewUserActivatorsStrings","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");function a(a){a.buttonText;var b=a.isButtonLoading;a=a.onButtonClick;return i.jsx(c("PolarisIGCoreActivatorCard"),{bodyText:d("PolarisNewUserActivatorsStrings").FACEBOOK_BODY,buttonText:d("PolarisNewUserActivatorsStrings").FACEBOOK_CTA,headerText:d("PolarisNewUserActivatorsStrings").FACEBOOK_HEADER,icon:d("PolarisAssetManagerGlyphMapping").ICONS.FACEBOOK_CIRCLE_OUTLINE_24_GREY9,iconAlt:d("PolarisNewUserActivatorsStrings").FACEBOOK_BODY,loading:b,onClick:a})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a.buttonText;var b=a.isButtonLoading;a=a.onButtonClick;var e=i.jsx(c("PolarisIGCoreBorderedIcon"),{alt:h._(/*FBT_CALL*/"Connect to Facebook"/*FBT_CALL*/),icon:d("PolarisAssetManagerGlyphMapping").ICONS.FACEBOOK_CIRCLE_OUTLINE_24_GREY9,size:c("PolarisIGCoreConstants").AVATAR_SIZES.large});return i.jsx(c("PolarisGenericOnboardingUnit"),{bodyText:h._(/*FBT_CALL*/"Connect to Facebook to find friends to follow."/*FBT_CALL*/),buttonText:h._(/*FBT_CALL*/"Connect to Facebook"/*FBT_CALL*/),headerText:h._(/*FBT_CALL*/"Connect to Facebook"/*FBT_CALL*/),icon:e,isProcessing:b,onButtonClick:a})}b.displayName=b.name+" [from "+f.id+"]";g.nuxActivatorCardAddAccountButtonUI=a;g.nuxOnboardingUnitAddAccountButtonUI=b}),98);
__d("PolarisFXNUXAddAccountErrorDialog",["PolarisFXDialog","Polarisinvariant","Polarisnullthrows","browserHistory","react"],(function(a,b,c,d,e,f,g){var h=d("react");function a(a){var b=a.content,e=a.error,f=a.onClose,g=a.url;b!=null||c("Polarisinvariant")(0,34470);e=(a=e)!=null?a:b;function i(a){switch(a){case"WEB_AUTH":return function(){return d("browserHistory").redirect(c("Polarisnullthrows")(g))};case"EXIT_FLOW":default:return f}}return h.jsx(c("PolarisFXDialog"),{body:c("Polarisnullthrows")(e==null?void 0:e.body),negativeButton:(e==null?void 0:e.negative_button)!=null?{label:c("Polarisnullthrows")(e==null?void 0:(a=e.negative_button)==null?void 0:a.label),onClick:i(c("Polarisnullthrows")(e==null?void 0:(b=e.negative_button)==null?void 0:b.action))}:void 0,primaryButton:{label:c("Polarisnullthrows")(e==null?void 0:(a=e.primary_button)==null?void 0:a.label),onClick:i(c("Polarisnullthrows")(e==null?void 0:(b=e.primary_button)==null?void 0:b.action))},secondaryButton:(e==null?void 0:e.secondary_button)!=null?{label:c("Polarisnullthrows")(e==null?void 0:(a=e.secondary_button)==null?void 0:a.label),onClick:i(c("Polarisnullthrows")(e==null?void 0:(b=e.secondary_button)==null?void 0:b.action))}:void 0,title:c("Polarisnullthrows")(e==null?void 0:e.title)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFXNUXErrorContent",["fbt","PolarisGenericStrings"],(function(a,b,c,d,e,f,g,h){a=h._(/*FBT_CALL*/"Something Went Wrong"/*FBT_CALL*/);b=h._(/*FBT_CALL*/"You can try again later or use another account."/*FBT_CALL*/);c={body:b,button_label:d("PolarisGenericStrings").OK_TEXT,title:a};e={title:c.title.toString(),body:c.body.toString(),primary_button:{label:c.button_label.toString(),action:"EXIT_FLOW"}};g.GENERIC_LINKING_FLOW_ERROR_CONTENT=c;g.GENERIC_LINKING_FLOW_ERROR_DIALOG_CONTENT=e}),98);
__d("PolarisFXNUXAddAccountLink",["IGRouter","PolarisFXCalLinkingLogger","PolarisFXNUXAddAccountErrorDialog","PolarisFXNUXErrorContent","PolarisQueryParamsHelper","Polarisnullthrows","PolarisuserSelectors","browserHistory","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){var h=d("react"),i=d("react").useState;function a(a){var b=a.buttonUI,e=a.entryPoint;e=e===void 0?"ig_web_settings":e;var f=a.flow;f===void 0?"IG_WEB_SETTINGS":f;f=a.returnURL;f===void 0?null:f;f=a.screenResources;var g=a.webAuthConfig;a=d("IGRouter").useIGLocation();a=d("PolarisQueryParamsHelper").getQueryParams(a.search);var k=i(!1),l=k[0],m=k[1];k=i(null);var n=k[0],o=k[1];k=i(null);var p=k[0],q=k[1],r=(k=d("react-redux-wwwig").useSelector(d("PolarisuserSelectors").getViewer))==null?void 0:k.fbid,s=j((k=a.entry_point)!=null?k:e),t=(a=g.web_auth)==null?void 0:a.url;k=function(){try{m(!0);d("PolarisFXCalLinkingLogger").logFXLinkingFlowEvent({event:"linking_flow_initiated",initiatorAccountId:c("Polarisnullthrows")(r),linkingFlowEntryPoint:s});if(g.error!=null){q(g.error);return}d("browserHistory").redirect(c("Polarisnullthrows")(t));d("PolarisFXCalLinkingLogger").logFXLinkingFlowEvent({event:"web_auth_attempted",initiatorAccountId:c("Polarisnullthrows")(r),linkingFlowEntryPoint:s})}catch(a){d("PolarisFXCalLinkingLogger").logFXLinkingFlowEvent({event:"generic_error",initiatorAccountId:c("Polarisnullthrows")(r),linkingFlowEntryPoint:s,debugData:a.stack}),o(d("PolarisFXNUXErrorContent").GENERIC_LINKING_FLOW_ERROR_DIALOG_CONTENT)}};return h.jsxs(h.Fragment,{children:[b({isButtonLoading:l,onButtonClick:k,buttonText:c("Polarisnullthrows")(f.add_button_text)}),l&&(n||p)&&h.jsx(c("PolarisFXNUXAddAccountErrorDialog"),{content:n,error:p,onClose:function(){o(null),q(null),m(!1)},url:t})]})}a.displayName=a.name+" [from "+f.id+"]";function j(a){return a==="ig_fb_nux_find_friends_web"||a==="ig_fb_nux_find_friends_msite"?a:"ig_web_settings"}g["default"]=a}),98);
__d("PolarisFXNUXAddAccountActivatorCard",["PolarisAPI","PolarisConfig","PolarisErrorBoundary","PolarisFXCalLinkingLogger","PolarisFXNUXAddAccountButtonUI","PolarisFXNUXAddAccountLink","PolarisNewUserActivatorsStrings","PolarisQueryParamsHelper","PolarisRoutes","PolarisUA","Polarisnullthrows","PolarisuserSelectors","gkx","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){var h=d("react");b=d("react");var i=b.Suspense,j=b.useEffect,k=b.useLayoutEffect,l=b.useRef,m=b.useState;function a(a){var b=a.onError,e=a.returnURL;a=d("PolarisUA").isMobile();var f=a?"IG_NUX_MSITE":"IG_NUX_WEB",g=n(a);a=m(null);var i=a[0],o=a[1],p=l(b);k(function(){p.current=b});j(function(){var a="6195273177181542",b=c("gkx")("5448")?d("PolarisQueryParamsHelper").appendQueryParams(d("PolarisRoutes").FX_ACCOUNTS_CENTER_ON_COMET_ROUTABLE_LINKING_PATH,{flow:f,entry_point:g,next:e,background_page:d("PolarisRoutes").FX_ACCOUNTS_CENTER_ON_COMET_PROFILES_PATH}):d("PolarisQueryParamsHelper").appendQueryParams(d("PolarisRoutes").FX_ACCOUNTS_CENTER_ON_COMET_PROFILES_PATH,{flow:f,entry_point:g,next:e});b={flow:f,device_id:d("PolarisConfig").getDeviceId(),ig_web_extra_data:b,"interface":"IG_WEB"};d("PolarisAPI").queryWWWGraphQL(a,b).then(function(a){var b=a.data;a=a.errors;a!=null?p.current():((b.fxcal_web_init.web_auth==null||b.fxcal_web_init.error!=null)&&p.current(),o(b))})["catch"](function(a){p.current()})},[g,f,e]);return i==null?d("PolarisFXNUXAddAccountButtonUI").nuxActivatorCardAddAccountButtonUI({buttonText:d("PolarisNewUserActivatorsStrings").FACEBOOK_CTA,isButtonLoading:!0,onButtonClick:function(){}}):h.jsx(c("PolarisFXNUXAddAccountLink"),{buttonUI:d("PolarisFXNUXAddAccountButtonUI").nuxActivatorCardAddAccountButtonUI,entryPoint:g,flow:f,returnURL:e,screenResources:c("Polarisnullthrows")((a=i.fx_identity_management)==null?void 0:a.screen_resources),webAuthConfig:c("Polarisnullthrows")(i.fxcal_web_init)})}a.displayName=a.name+" [from "+f.id+"]";function n(a){return a?"ig_fb_nux_find_friends_msite":"ig_fb_nux_find_friends_web"}function o(a){var b=a.children,e=a.onError,f=d("PolarisUA").isMobile(),g=(a=d("react-redux-wwwig").useSelector(d("PolarisuserSelectors").getViewer))==null?void 0:a.fbid;return h.jsx(c("PolarisErrorBoundary"),{errorRenderer:function(a){return null},onError:function(a,b){e(a,c("Polarisnullthrows")(g),f)},children:b})}o.displayName=o.name+" [from "+f.id+"]";function p(a,b){var c;function d(c){return h.jsx(o,{onError:b(c),children:h.jsx(a,babelHelpers["extends"]({},c))})}d.displayName=d.name+" [from "+f.id+"]";Object.defineProperty(d,"name",{value:p.name+"("+((c=a.name)!=null?c:"Component")+")",writable:!1});return d}function q(a){var b;function c(b){var c=d("PolarisFXNUXAddAccountButtonUI").nuxActivatorCardAddAccountButtonUI({buttonText:d("PolarisNewUserActivatorsStrings").FACEBOOK_CTA,isButtonLoading:!0,onButtonClick:function(){}});return h.jsx(i,{fallback:c,children:h.jsx(a,babelHelpers["extends"]({},b))})}c.displayName=c.name+" [from "+f.id+"]";Object.defineProperty(c,"name",{value:q.name+"("+((b=a.name)!=null?b:"Component")+")",writable:!1});return c}e=p(q(a),function(a){return function(b,c,e){d("PolarisFXCalLinkingLogger").logFXLinkingFlowEvent({event:"generic_error",initiatorAccountId:c,linkingFlowEntryPoint:n(e),debugData:b.stack}),a.onError()}});g["default"]=e}),98);
__d("PolarisFXNUXErrorBoundaryDialog",["PolarisErrorBoundary","PolarisFXDialog","PolarisUA","Polarisnullthrows","PolarisuserSelectors","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){var h=d("react");function i(a){var b=a.children,e=a.errorContent,f=a.onClick;a=a.onError;var g=a===void 0?function(b,c,a){}:a,i=c("Polarisnullthrows")((a=d("react-redux-wwwig").useSelector(d("PolarisuserSelectors").getViewer))==null?void 0:a.fbid),j=d("PolarisUA").isMobile();return h.jsx(c("PolarisErrorBoundary"),{errorRenderer:function(a){return h.jsx(c("PolarisFXDialog"),{body:e.body,primaryButton:{label:e.button_label,onClick:f},title:e.title})},onError:function(a,b){g(a,i,j)},children:b})}i.displayName=i.name+" [from "+f.id+"]";function j(a,b){var c;function d(c){return h.jsx(i,{errorContent:b.errorContent,onClick:function(){return b.onClick(c)},onError:function(a,d,e){b.onError&&b.onError(c)(a,d,e)},children:h.jsx(a,babelHelpers["extends"]({},c))})}d.displayName=d.name+" [from "+f.id+"]";Object.defineProperty(d,"name",{value:j.name+"("+((c=a.name)!=null?c:"Component")+")",writable:!1});return d}g.withFXNUXErrorBoundaryDialog=j}),98);
__d("PolarisFXNUXAddAccountOnboardingUnit",["PolarisAPI","PolarisConfig","PolarisFXCalLinkingLogger","PolarisFXNUXAddAccountButtonUI","PolarisFXNUXAddAccountLink","PolarisFXNUXErrorBoundaryDialog","PolarisFXNUXErrorContent","PolarisNewUserActivatorsStrings","PolarisQueryParamsHelper","PolarisRoutes","PolarisUA","Polarisnullthrows","browserHistory","gkx","react"],(function(a,b,c,d,e,f,g){var h=d("react");b=d("react");var i=b.Suspense,j=b.useEffect,k=b.useState;function a(a){var b=a.returnURL;a=d("PolarisUA").isMobile();var e=a?"IG_NUX_MSITE":"IG_NUX_WEB",f=l(a);a=k(null);var g=a[0],i=a[1];a=k(null);var m=a[0],n=a[1];j(function(){var a=c("gkx")("5448")?d("PolarisQueryParamsHelper").appendQueryParams(d("PolarisRoutes").FX_ACCOUNTS_CENTER_ON_COMET_ROUTABLE_LINKING_PATH,{flow:e,entry_point:f,next:b,background_page:d("PolarisRoutes").FX_ACCOUNTS_CENTER_ON_COMET_PROFILES_PATH}):d("PolarisQueryParamsHelper").appendQueryParams(d("PolarisRoutes").FX_ACCOUNTS_CENTER_ON_COMET_PROFILES_PATH,{flow:e,entry_point:f,next:b});a={flow:e,device_id:d("PolarisConfig").getDeviceId(),ig_web_extra_data:a,"interface":"IG_WEB"};var g="6195273177181542";d("PolarisAPI").queryWWWGraphQL(g,a).then(function(a){var b=a.data;a=a.errors;a!=null?n(a):i(b)})["catch"](function(a){n(a)})},[f,e,b]);if(m!=null)throw new Error("GraphQL fetch was not successful");return g==null?d("PolarisFXNUXAddAccountButtonUI").nuxOnboardingUnitAddAccountButtonUI({buttonText:d("PolarisNewUserActivatorsStrings").FACEBOOK_CTA,isButtonLoading:!0,onButtonClick:function(){}}):h.jsx(c("PolarisFXNUXAddAccountLink"),{buttonUI:d("PolarisFXNUXAddAccountButtonUI").nuxOnboardingUnitAddAccountButtonUI,entryPoint:f,flow:e,returnURL:b,screenResources:c("Polarisnullthrows")((a=g.fx_identity_management)==null?void 0:a.screen_resources),webAuthConfig:c("Polarisnullthrows")(g.fxcal_web_init)})}a.displayName=a.name+" [from "+f.id+"]";function l(a){return a?"ig_fb_nux_find_friends_msite":"ig_fb_nux_find_friends_web"}function m(a){var b;function c(b){var c=d("PolarisFXNUXAddAccountButtonUI").nuxOnboardingUnitAddAccountButtonUI({buttonText:d("PolarisNewUserActivatorsStrings").FACEBOOK_CTA,isButtonLoading:!0,onButtonClick:function(){}});return h.jsx(i,{fallback:c,children:h.jsx(a,babelHelpers["extends"]({},b))})}c.displayName=c.name+" [from "+f.id+"]";Object.defineProperty(c,"name",{value:m.name+"("+((b=a.name)!=null?b:"Component")+")",writable:!1});return c}e=d("PolarisFXNUXErrorBoundaryDialog").withFXNUXErrorBoundaryDialog(m(a),{errorContent:d("PolarisFXNUXErrorContent").GENERIC_LINKING_FLOW_ERROR_CONTENT,onClick:function(a){a=a.returnURL;d("browserHistory").redirect(a)},onError:function(a){return function(a,b,c){d("PolarisFXCalLinkingLogger").logFXLinkingFlowEvent({event:"generic_error",initiatorAccountId:b,linkingFlowEntryPoint:l(c),debugData:a.stack})}}});g["default"]=e}),98);
__d("PolarisConnectToFacebook",["PolarisFXNUXAddAccountActivatorCard","PolarisFXNUXAddAccountOnboardingUnit","react"],(function(a,b,c,d,e,f,g){var h=d("react");function a(a){a.analyticsContext;var b=a.nuxType;b=b===void 0?"onboarding":b;var d=a.onError;d=d===void 0?function(){}:d;a=a.returnURL;return h.jsx(h.Fragment,{children:b==="activator"?h.jsx(c("PolarisFXNUXAddAccountActivatorCard"),{onError:d,returnURL:a}):h.jsx(c("PolarisFXNUXAddAccountOnboardingUnit"),{returnURL:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisNewUserActivatorsUnit",["IGRouter","PolarisAssetManagerGlyphMapping","PolarisConnectToFacebook","PolarisIGCoreActivatorCard","PolarisIGCoreDeck","PolarisNewUserActivatorsStrings","PolarisNewUserActivatorsUnitTypes","PolarisPageIdentifierConstants","PolarisProfilePicEdit","PolarisRoutes","PolarisUA","PolarissuggestedUserSelectors","PolarisuserSelectors","PolariswithLifecycleLogging","emptyFunction","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){var h=d("react");function i(a){a=a.onFirstPhotoUpload;return h.jsx(c("PolarisIGCoreActivatorCard"),{bodyText:d("PolarisNewUserActivatorsStrings").FIRST_PHOTO_BODY,buttonText:d("PolarisNewUserActivatorsStrings").FIRST_PHOTO_CTA,headerText:d("PolarisNewUserActivatorsStrings").FIRST_PHOTO_HEADER,icon:d("PolarisAssetManagerGlyphMapping").ICONS.CAMERA_OUTLINE_24_GREY9,iconAlt:d("PolarisNewUserActivatorsStrings").FIRST_PHOTO_BODY,onClick:(a=a)!=null?a:c("emptyFunction")})}i.displayName=i.name+" [from "+f.id+"]";function j(){var a=d("IGRouter").useIGHistory();return h.jsx(c("PolarisIGCoreActivatorCard"),{bodyText:d("PolarisNewUserActivatorsStrings").PHONE_BODY,buttonText:d("PolarisNewUserActivatorsStrings").PHONE_CTA,headerText:d("PolarisNewUserActivatorsStrings").PHONE_HEADER,icon:d("PolarisAssetManagerGlyphMapping").ICONS.CALL_OUTLINE_24_GREY9,iconAlt:d("PolarisNewUserActivatorsStrings").PHONE_BODY,onClick:function(){return a.push(d("PolarisRoutes").PHONE_CONFIRM_PATH)}})}j.displayName=j.name+" [from "+f.id+"]";function k(){var a=d("IGRouter").useIGHistory();return h.jsx(c("PolarisIGCoreActivatorCard"),{bodyText:d("PolarisNewUserActivatorsStrings").EDIT_PROFILE_BODY,buttonText:d("PolarisNewUserActivatorsStrings").EDIT_PROFILE_CTA,headerText:d("PolarisNewUserActivatorsStrings").EDIT_PROFILE_HEADER,icon:d("PolarisAssetManagerGlyphMapping").ICONS.USER_OUTLINE_24_GREY9,iconAlt:d("PolarisNewUserActivatorsStrings").EDIT_PROFILE_BODY,onClick:function(){return a.push(d("PolarisRoutes").PROFILE_EDIT_PATH)}})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.profilePicEditRef;return h.jsx(c("PolarisIGCoreActivatorCard"),{bodyText:d("PolarisNewUserActivatorsStrings").PROFILE_PHOTO_BODY,buttonText:d("PolarisNewUserActivatorsStrings").PROFILE_PHOTO_CTA,headerText:d("PolarisNewUserActivatorsStrings").PROFILE_PHOTO_HEADER,icon:d("PolarisAssetManagerGlyphMapping").ICONS.CAMERA_OUTLINE_24_GREY9,iconAlt:d("PolarisNewUserActivatorsStrings").PROFILE_PHOTO_BODY,onClick:function(a){var c;b==null?void 0:(c=b.current)==null?void 0:c.handleEditProfilePic(a)}})}l.displayName=l.name+" [from "+f.id+"]";var m=h.forwardRef(function(a,b){return h.jsxs("div",{className:a.className,children:[h.jsx(c("PolarisIGCoreDeck"),{cardType:"ACTIVATOR",hasBlur:!d("PolarisUA").isMobile(),headerText:d("PolarisNewUserActivatorsStrings").GETTING_STARTED,children:a.children}),h.jsx(c("PolarisProfilePicEdit"),{analyticsContext:a.analyticsContext,hasExistingPic:!1,ref:b})]})});b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.$1=h.createRef();b.$2={hideConnectToFB:!1};return b}var e=b.prototype;e.render=function(){var a=this,b=this.props,e=b.canFBConnect,g=b.className,n=b.fallbackComponent,o=b.hasName,p=b.hasPhoneNumber,q=b.hasProfilePic;b=b.isNew;if(b==null||b===!1){return(b=n)!=null?b:null}n=[d("PolarisUA").isMobile()&&f===d("PolarisNewUserActivatorsUnitTypes").MODULES.profile&&h.jsx(i,{onFirstPhotoUpload:this.props.onFirstPhotoUpload},d("PolarisNewUserActivatorsUnitTypes").KEYS.addFirstPhoto),e&&!this.$2.hideConnectToFB&&h.jsx(c("PolarisConnectToFacebook"),{analyticsContext:c("PolarisPageIdentifierConstants").selfProfilePage,nuxType:"activator",onError:function(){a.$2.hideConnectToFB=!0,a.forceUpdate()},returnURL:"/"},d("PolarisNewUserActivatorsUnitTypes").KEYS.connectToFacebook),p!==!0&&h.jsx(j,{},d("PolarisNewUserActivatorsUnitTypes").KEYS.addPhone),o!==!0&&h.jsx(k,{},d("PolarisNewUserActivatorsUnitTypes").KEYS.editProfile),q!==!0&&h.jsx(l,{profilePicEditRef:this.$1},d("PolarisNewUserActivatorsUnitTypes").KEYS.editProfilePhoto)].filter(function(a){return a});if(n.length===0){return(b=this.props.fallbackComponent)!=null?b:null}return h.jsx(m,{className:g,ref:this.$1,children:n})};return b}(h.Component);function a(a){var b=d("PolarisuserSelectors").getViewer(a);return{canFBConnect:d("PolarissuggestedUserSelectors").shouldDisplayFacebookConnect(a),hasName:(b==null?void 0:b.fullName)!=="",hasPhoneNumber:b==null?void 0:b.hasPhoneNumber,hasProfilePic:b==null?void 0:b.hasProfilePic,isNew:b==null?void 0:b.isNew,profilePicUploadIsInFlight:a.users.profilePicUploadIsInFlight}}e=d("IGRouter").withIGRouter(d("react-redux-wwwig").connect(a)(d("PolariswithLifecycleLogging").withConnectedLifecycleLogging("NewUserActivatorsUnit")(b)));g["default"]=e}),98);
__d("PolarisVideoPostGridItemOverlay",["cx","PolarisAssetManagerGlyphMapping","PolarisConsumerBigNumber","PolarisGenericStrings","PolarisIGCoreBox","PolarisIGCoreIcon","PolarisIGCorePlayPanoFilledIcon","PolarisIGCoreText","PolarisPostsGridItemOverlay","PolarisPostsGridItemStatsOverlay","PolarisQEHelper","PolarisUA","PolarisuserSelectors","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j="linear-gradient(\n  0deg,\n  rgba(0, 0, 0, 0.4) 0%,\n  rgba(0, 0, 0, 0) 22.27%\n)";function a(a){var b=a.commentsDisabled,e=a.likeAndViewCountsDisabled;a.mediaId;var f=a.numComments,g=a.numPreviewLikes,h=a.productType,k=a.videoViews;a=a.viewerIsOwner;k=parseInt(k);var l=null;if(!isNaN(k)){var m=i.jsx(c("PolarisIGCoreBox"),{marginEnd:d("PolarisUA").isMobile()?1:2,children:d("PolarisUA").isMobile()?i.jsx(c("PolarisIGCoreIcon"),{alt:d("PolarisGenericStrings").PLAY_ICON_ALT,icon:d("PolarisAssetManagerGlyphMapping").ICONS.PLAY_OUTLINE_12_WHITE}):i.jsx(c("PolarisIGCorePlayPanoFilledIcon"),{alt:d("PolarisGenericStrings").PLAY_ICON_ALT,color:"web-always-white",size:16})});l=i.jsx(c("PolarisPostsGridItemOverlay"),{backgroundColor:j,children:i.jsx("div",{className:"_aajy",children:i.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",bottom:!0,direction:"row",display:"flex",marginBottom:d("PolarisUA").isMobile()?2:4,marginStart:d("PolarisUA").isMobile()?2:4,position:"absolute",children:[m,k>0&&i.jsx(c("PolarisIGCoreText"),{color:"web-always-white",size:d("PolarisUA").isMobile()?"footnote":"label",weight:"semibold",children:i.jsx(c("PolarisConsumerBigNumber"),{shortenNumber:!0,value:k})})]})})})}m=d("react-redux-wwwig").useSelector(function(a){return d("PolarisuserSelectors").getViewer(a)});k=a||!d("PolarisQEHelper").shouldHideLikeCountsWithControls(m==null?void 0:m.hideLikeAndViewCounts,e);return k&&!d("PolarisUA").isMobile()?i.jsxs("div",{className:"_aajz",children:[i.jsx("div",{className:"_aaj-",children:i.jsx(c("PolarisPostsGridItemStatsOverlay"),{commentsDisabled:b,isVideo:!0,numComments:f,numPreviewLikes:g,productType:h,videoViews:0})}),i.jsx("div",{className:"_aaj_",children:l})]}):l}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsGridItem",["cx","FastLink","PolarisAspectRatio","PolarisConfig","PolarisLinkBuilder","PolarisMediaHelpers","PolarisUA","PolarisVideoPostGridItemOverlay","Polarisnullthrows","react"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j=212/330,k=119.5/212;function l(a){var b,e;b=(b=a.media)==null?void 0:(b=b.user)==null?void 0:(b=b.pk)==null?void 0:b.toString();b=b===d("PolarisConfig").getViewerId();return i.jsx(c("PolarisVideoPostGridItemOverlay"),{commentsDisabled:!1,likeAndViewCountsDisabled:a.like_and_view_counts_disabled,mediaId:a.id,numComments:(e=a.media)==null?void 0:e.comment_count,numPreviewLikes:(e=a.media)==null?void 0:e.like_count,productType:(e=a.media)==null?void 0:e.product_type,videoViews:(e=a.media)==null?void 0:e.play_count,viewerIsOwner:b})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.clip,e=a.onClick;a=a.shouldSpawnModals;var f=d("PolarisMediaHelpers").getImageSrcSet(d("PolarisMediaHelpers").getImageCandidatesFromMediaItem(b.media));f=f==null?void 0:(f=f[0])==null?void 0:f.src;return i.jsx("div",{className:"_aajw",children:i.jsxs(c("FastLink"),{href:d("PolarisLinkBuilder").buildClipsMediaLink(c("Polarisnullthrows")(b.media.code)),onClick:function(a){return e(a,c("Polarisnullthrows")(b.media.pk))},shouldOpenModal:a===!0,children:[i.jsx(c("PolarisAspectRatio"),{aspectRatio:d("PolarisUA").isMobile()?k:j,className:"_aajx",style:{backgroundImage:"url("+((a=f)!=null?a:"")+")"}}),i.jsx(l,{media:b.media})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsItemModal",["IGRouter","PolarisClipsHelpers","PolarisLinkBuilder","PolarisPostContainer","PolarisPostModalGeneralized","PolarisPostOptionCopyLink","PolarisPostOptionDelete","PolarisPostOptionEmbed","PolarisPostOptionGoToPost","PolarisPostOptionPhotosOfYou","PolarisPostOptionReportInappropriate","PolarisPostOptionShare","PolarisPostVariants","Polarisnullthrows","react"],(function(a,b,c,d,e,f,g){var h=d("react"),i=d("react").useRef;function a(a){var b=a.analyticsContext,e=a.clips,f=a.history,g=a.onClose,j=a.onOpen;a=a.postId;f=i(f.location.pathname);var k=d("PolarisClipsHelpers").getClipItemFromPostID(e,a);if(!k)return null;e=e.map(function(a){return c("Polarisnullthrows")(a.media.pk)});return h.jsx(c("PolarisPostModalGeneralized"),{analyticsContext:b,combinedPostIds:e,dimensions:d("PolarisClipsHelpers").getClipDimensionsFromItemDict(k),mediaLinkBuilder:d("PolarisLinkBuilder").buildClipsMediaLink,modalEntryPath:f.current,onClose:g,onOpen:j,postCode:c("Polarisnullthrows")(k.media.code),postId:a,children:h.jsx(c("PolarisPostContainer"),{analyticsContext:b+"Modal",autoplay:!0,id:a,inModal:!0,isVisible:!0,Options:[c("PolarisPostOptionDelete"),c("PolarisPostOptionReportInappropriate"),c("PolarisPostOptionGoToPost"),c("PolarisPostOptionEmbed"),c("PolarisPostOptionPhotosOfYou"),c("PolarisPostOptionShare"),c("PolarisPostOptionCopyLink")],variant:d("PolarisPostVariants").VARIANTS.flexible,visiblePosition:0})})}a.displayName=a.name+" [from "+f.id+"]";b=d("IGRouter").withIGRouter(a);g["default"]=b}),98);
__d("PolarisClipsGrid",["cx","PolarisClipsConstants","PolarisClipsGridItem","PolarisClipsItemModal","PolarisConfig","PolarisIGCoreBox","PolarisIGCoreSpinner","PolarisIGVirtualGrid","PolarisLoggedOutLoginModal","PolarisMediaConstants","PolarisNavigationActions","PolarisSizing","PolarisUA","PolarisclipsSelectors","PolarisdisplayPropertiesSelectors","PolarispostModalHelpers","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useState;function a(a){var b=a.analyticsContext,e=a.clips,g=a.fetchClips,h=a.hasNextPage,m=a.isFetching,n=a.onModalOpen;a=a.shouldDisableFetching;var o=a===void 0?!1:a,p=d("react-redux-wwwig").useSelector(function(a){return d("PolarisclipsSelectors").getIsNarrowScreen(a)})?d("PolarisClipsConstants").CLIPS_PER_ROW_MOBILE:d("PolarisClipsConstants").CLIPS_PER_ROW_DESKTOP,q=d("react-redux-wwwig").useSelector(function(a){return d("PolarisdisplayPropertiesSelectors").getViewportWidth(a)});a=l(!1);var r=a[0],s=a[1];a=l(null);var t=a[0],u=a[1],v=d("react-redux-wwwig").useDispatch();a=d("react-redux-wwwig").useSelector(function(a){return a.navigation.isLoginModalOpen});var w=e.length<d("PolarisClipsConstants").THRESHOLD_TO_FORCE_FETCH_MORE_CLIPS;function x(a){return i.jsx("div",{className:"_abq3"},a)}x.displayName=x.name+" [from "+f.id+"]";var y=j(function(a){s(!0),u(a),d("PolarispostModalHelpers").logPostModalOpen(b,d("PolarisMediaConstants").MediaTypes.VIDEO,"clips_grid"),n&&n(a)}),z=function(){s(!1),u(null)},A=j(function(a,b){d("PolarisConfig").isNetzDGEligible()?(a.preventDefault(),v(d("PolarisNavigationActions").openLoginModal("feature_wall","/","profile_clips_tab",null,!1,b))):d("PolarisUA").isMobile()||(a.preventDefault(),y(b))},[v,y]);function B(a){a=a.index;return i.jsx("div",{className:"_abq3",children:i.jsx(c("PolarisClipsGridItem"),{clip:e[a],onClick:A,shouldSpawnModals:d("PolarisSizing").shouldSpawnModals(q)})},e[a].media.id)}B.displayName=B.name+" [from "+f.id+"]";var C=function(){e.length===0&&g(p)},D=function(a){a=a.numScreensFromEnd;o===!1&&!w&&m!==!0&&h===!0&&a<1&&g(p)};k(function(){o===!1&&w&&m!==!0&&h===!0&&g(p)},[e.length,w,m,h,g,p,o]);return i.jsxs(c("PolarisIGCoreBox"),{width:"100%",children:[i.jsx(c("PolarisIGVirtualGrid"),{itemCount:h===!1||o===!0?e.length:e.length-e.length%p,itemsPerRow:p,onInitialize:C,onScroll:D,renderer:B,rendererPlaceholder:x,rowClassName:"_abq4"}),m===!0&&i.jsx("div",{className:"_abq5",children:i.jsx(c("PolarisIGCoreSpinner"),{position:"absolute",size:"medium"})}),r&&t!=null&&i.jsx(c("PolarisClipsItemModal"),{analyticsContext:b,clips:e,onClose:z,onOpen:y,postId:t}),a&&i.jsx(c("PolarisLoggedOutLoginModal"),{triggeringPageType:"profile"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useXIGProfileFollowList",["invariant","CometRouteURL","PolarisFollowListActions","PolarisHashtagFollowListActions","PolarisuserSelectors","goForceFullPageRedirectTo","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useEffect,j=new RegExp("^/(.+/)(following|hashtag_following|followers)/?(mutualOnly|mutualFirst)?$");function k(a){var b=null,c=null,d=null;a=a.match(j);a&&(b=a[2],d={followers:"inbound",following:"outbound",hashtag_following:"outbound"}[b],c=a[3]);return{followType:d,type:b,viewType:c}}function a(a){var b=d("CometRouteURL").useRouteURLPath();b=k(b);var e=b.followType,f=b.type,g=b.viewType,j=d("react-redux-wwwig").useDispatch(),l=d("react-redux-wwwig").useSelector(function(b){var c=b.users.usernameToId.get(a);return c?d("PolarisuserSelectors").getUserById(b,c):null});i(function(){if(f==null)return;l||(typeof a==="string"||h(0,51664),c("goForceFullPageRedirectTo")("/"+a+"/"));if(l==null||e==null)return;var b=l.id,i=e==="inbound";if(f==="hashtag_following")j(d("PolarisHashtagFollowListActions").getHashtagFollowList(b));else{var k=g==="mutualOnly"||g==="mutualFirst";j(d("PolarisFollowListActions").requestFollowList(b,e,i,k))}},[j,g,l,a,f,e]);return{type:f,followType:e}}g["default"]=a}),98);